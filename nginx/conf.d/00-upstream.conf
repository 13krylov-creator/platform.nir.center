# =============================================================================
# Upstream серверы приложений
# =============================================================================
# Этот файл загружается первым (00-) и определяет все upstream серверы.
# Добавляйте новые приложения сюда.
# =============================================================================

# -----------------------------------------------------------------------------
# Демо-приложение 1 (Docker-контейнер)
# -----------------------------------------------------------------------------
upstream demo-app1 {
    server demo-app1:80;
    keepalive 32;
}

# -----------------------------------------------------------------------------
# Пример: Приложение на хосте (не в Docker)
# -----------------------------------------------------------------------------
# Используйте host.docker.internal для доступа к сервисам хост-машины
# upstream host-app {
#     server host.docker.internal:3000;
#     keepalive 32;
# }

# -----------------------------------------------------------------------------
# Пример: Несколько серверов с балансировкой нагрузки
# -----------------------------------------------------------------------------
# upstream app-cluster {
#     least_conn;
#     server app1:8080 weight=5;
#     server app2:8080 weight=3;
#     server app3:8080 backup;
#     keepalive 64;
# }
